<?php
// 通用头部模板
$requestPath = parse_url($_SERVER['REQUEST_URI'] ?? '', PHP_URL_PATH) ?: '/index.php';
$currentPage = basename($requestPath);
// 如果路径包含 pages/，提取文件名
if (strpos($requestPath, '/pages/') !== false) {
    $currentPage = basename($requestPath);
}
?>
<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BlueWhois 专业域名 WHOIS 查询平台，提供快速、准确、完整的域名注册信息查询服务">
    <meta name="keywords" content="WHOIS,域名查询,域名信息,域名注册商">
    <title><?php echo isset($page_title) ? htmlspecialchars($page_title) : 'BlueWhois - WHOIS 域名查询'; ?></title>
    <link href="https://static.bluecdn.com/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css" rel="stylesheet">
    <?php
    // 确定基础路径（如果文件在 pages/ 文件夹中，需要回到根目录）
    include_once __DIR__ . '/function.php';
    $basePath = getBasePath();
    ?>
    <link rel="stylesheet" href="<?= $basePath ?>assets/css/style.css">
    <link rel="stylesheet" href="<?= $basePath ?>assets/css/pages.css">
</head>

<body>
    <header class="hero-header">
        <div class="hero-header-container">
            <div class="hero-nav-row">
                <a href="<?= $basePath ?>index.php" class="brand-link" aria-label="BlueWhois 首页">
                    <svg t="1770980002780" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6925" width="20" height="20">
                        <path d="M221.997 589.489L179.31 431.727 135.692 589.49c-3.712 12.064-5.568 20.416-8.352 25.984s-5.568 10.208-10.208 13.92-11.136 6.496-19.488 6.496c-6.496 0-12.064-0.928-16.704-3.712s-7.424-5.568-10.208-10.208-4.64-10.208-6.496-15.776c-1.856-6.496-2.784-12.064-4.64-17.632L15.979 411.31c-2.784-10.208-3.712-18.56-3.712-23.2a25.353 25.353 0 0 1 25.056-25.056c9.28 0 16.705 2.784 19.489 9.28 3.712 6.496 6.496 14.848 8.352 26.912L99.5 553.297l38.976-143.842c2.784-11.136 5.568-19.488 7.424-25.056s5.568-11.136 11.137-14.848c5.568-4.64 12.064-6.496 21.344-6.496s15.776 1.856 21.344 6.496c4.64 4.64 8.352 9.28 10.208 13.92 1.856 5.568 4.64 13.92 7.424 25.984l38.977 143.841 34.336-154.05c1.856-8.351 3.712-13.92 4.64-18.56 1.856-4.64 3.712-8.351 7.424-12.063s9.28-5.568 15.776-5.568 12.992 1.856 17.632 6.496 7.424 10.208 7.424 17.632c0 4.64-0.928 12.992-3.712 23.2l-43.616 177.25c-2.784 12.064-5.568 20.416-7.424 25.984-1.856 5.568-5.568 10.208-10.208 14.848s-11.136 6.496-20.416 6.496c-8.353 0-14.849-1.856-19.489-6.496-4.64-3.712-8.352-8.352-10.208-13.92s-3.712-12.992-6.496-25.056zM406.671 392.75v73.313c6.496-7.425 12.064-12.993 18.56-16.705 5.568-4.64 12.064-7.424 19.488-9.28s14.848-2.784 23.2-2.784c12.065 0 23.2 2.784 33.409 8.352 9.28 5.568 17.632 12.992 23.2 23.2 3.712 5.569 5.568 12.065 7.424 19.489 0.928 7.424 1.856 15.776 1.856 25.056v93.729c0 10.208-1.856 17.632-6.496 22.272s-10.208 7.424-17.632 7.424c-15.776 0-24.128-10.208-24.128-29.696v-82.593c0-15.776-2.784-27.84-7.424-36.192s-13.92-12.992-26.913-12.992c-8.352 0-16.704 2.784-23.2 7.424-7.424 4.64-12.064 12.064-15.776 20.416-2.784 7.424-3.712 20.416-3.712 38.976v64.96c0 9.281-1.856 16.705-6.496 22.273-4.64 4.64-10.208 7.424-18.56 7.424-15.776 0-24.128-10.208-24.128-29.696V393.679c0-10.208 1.856-17.632 6.496-22.272s10.208-7.424 17.632-7.424c7.424 0 13.92 2.784 18.56 7.424 2.784 3.712 4.64 11.136 4.64 21.344z m339.651 142.913c0 14.848-1.856 27.84-6.496 40.833s-11.136 23.2-19.488 31.552c-8.352 9.28-18.56 15.776-30.624 20.416s-25.057 7.424-40.833 7.424c-14.848 0-27.84-2.784-39.904-7.424s-22.272-12.064-30.624-20.416-14.848-19.488-19.489-31.552c-4.64-12.064-6.496-25.985-6.496-40.833s1.856-28.768 6.496-40.832c4.64-12.064 11.137-23.2 19.489-31.552 8.352-8.353 18.56-15.777 30.624-20.417s25.056-7.424 39.904-7.424 28.769 2.784 40.833 7.424c12.064 4.64 22.272 12.064 31.552 20.417s14.848 19.488 19.488 31.552c3.712 12.992 5.568 25.984 5.568 40.832z m-49.184 0c0-20.416-4.64-35.264-12.992-46.4-9.28-11.136-20.417-16.704-35.265-16.704-9.28 0-17.632 2.784-25.056 7.424s-12.992 12.064-16.704 22.272c-3.712 9.28-5.568 21.344-5.568 34.336 0 12.992 1.856 24.128 5.568 33.409 3.712 9.28 9.28 16.704 16.704 22.272 7.424 4.64 15.776 7.424 25.984 7.424 14.848 0 26.913-5.568 35.265-16.704 7.424-12.064 12.064-27.84 12.064-47.329z" fill="#ffffff" p-id="6926"></path>
                        <path d="M791.795 413.167c-6.496 0-12.992-1.856-17.632-6.496s-7.425-10.208-7.425-17.632c0-6.496 2.785-12.992 7.425-17.632s11.136-6.496 17.632-6.496 12.064 1.856 16.704 6.496c4.64 3.712 7.424 10.208 7.424 17.632s-2.784 13.92-7.424 17.632c-4.64 3.712-10.208 6.496-16.704 6.496z m24.128 50.113v141.985c0 10.208-2.784 17.632-7.424 22.272s-10.208 7.424-17.632 7.424-12.992-2.784-17.632-7.424c-4.64-5.568-6.497-12.992-6.497-22.272v-140.13c0-9.28 1.857-16.704 6.497-22.272 4.64-4.64 10.208-7.424 17.632-7.424s12.992 2.784 17.632 7.424c4.64 5.568 7.424 12.064 7.424 20.417z m190.242 107.649c0 13.92-3.712 25.056-10.208 35.264-6.496 9.28-16.704 16.704-28.769 22.272-12.992 4.64-28.768 7.424-47.328 7.424-17.632 0-32.48-2.784-45.472-8.352s-22.273-12.064-27.84-20.416c-5.569-8.352-9.28-15.776-9.28-24.128 0-5.568 1.855-10.208 5.567-13.92s8.352-5.568 14.848-5.568c5.568 0 9.28 0.928 12.064 3.712s5.569 6.496 8.353 10.208c4.64 8.352 11.136 14.848 17.632 19.488 7.424 4.64 16.704 6.496 28.768 6.496 10.208 0 17.632-1.856 24.128-6.496 6.496-4.64 9.28-9.28 9.28-14.848 0-8.352-3.712-14.848-10.208-18.56-6.496-3.713-17.632-7.425-32.48-11.137-16.704-4.64-30.624-8.352-40.832-12.992-10.209-4.64-19.489-11.136-25.057-18.56-6.496-7.424-9.28-16.704-9.28-27.84 0-10.208 2.784-19.488 9.28-27.84 5.568-8.353 14.848-15.777 25.985-21.345 11.136-5.568 25.056-7.424 41.76-7.424 12.992 0 24.128 0.928 34.336 3.712 10.208 2.784 18.56 6.496 25.057 10.208 6.496 4.64 12.064 9.28 15.776 14.849s5.568 11.136 5.568 15.776c0 5.568-1.856 10.208-5.568 13.92s-9.28 5.568-15.776 5.568c-4.64 0-9.28-1.856-12.993-4.64s-7.424-7.424-12.064-12.992c-3.712-4.64-8.352-8.352-12.992-11.136-4.64-2.784-12.064-4.64-20.416-4.64-9.28 0-16.704 1.856-22.272 5.568-5.568 3.712-9.28 8.352-9.28 13.92s1.856 9.28 6.496 12.992 10.208 5.568 17.632 8.352c7.424 1.856 17.632 4.64 30.624 8.352 14.848 3.712 27.84 8.352 37.12 12.992 9.28 5.568 16.705 11.136 22.273 18.56 3.712 6.496 5.568 14.848 5.568 23.2z" fill="#ffd54a" p-id="6927"></path>
                    </svg>
                </a>
                <div class="top-bar-actions">
                    <div class="lang-dropdown" id="langDropdown">
                        <button id="langToggle" class="lang-toggle-btn" aria-label="切换语言" title="切换语言 / Switch Language" type="button">
                            <svg t="1770980325101" class="icon lang-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9778" width="18" height="18">
                                <path d="M128 576a21.333333 21.333333 0 0 1 20.992 17.493333L149.333333 597.333333v213.333334a64 64 0 0 0 57.856 63.701333L213.333333 874.666667h128a21.333333 21.333333 0 0 1 3.84 42.325333L341.333333 917.333333H213.333333a106.666667 106.666667 0 0 1-106.453333-99.669333L106.666667 810.666667v-213.333334a21.333333 21.333333 0 0 1 21.333333-21.333333z m682.666667-469.333333a106.666667 106.666667 0 0 1 106.453333 99.669333L917.333333 213.333333v213.333334a21.333333 21.333333 0 0 1-42.325333 3.84L874.666667 426.666667V213.333333a64 64 0 0 0-57.856-63.701333L810.666667 149.333333h-128a21.333333 21.333333 0 0 1-3.84-42.325333L682.666667 106.666667h128zM320 547.84c9.941333 0 16.768-2.218667 20.48-6.613333a26.666667 26.666667 0 0 0 5.546667-17.706667v-87.893333h105.386666c10.538667 0 18.986667-0.725333 25.386667-2.133334a30.72 30.72 0 0 0 14.933333-7.253333 25.685333 25.685333 0 0 0 7.04-14.293333c1.152-6.101333 1.706667-13.866667 1.706667-23.253334V259.413333c0-10.24-0.64-18.474667-1.92-24.746666a27.008 27.008 0 0 0-7.253333-14.506667 26.922667 26.922667 0 0 0-14.933334-6.613333 172.16 172.16 0 0 0-25.386666-1.493334H346.026667V158.293333c0-9.386667-2.133333-15.786667-6.4-19.2-4.266667-3.413333-10.794667-5.12-19.626667-5.12-9.386667 0-16.085333 1.706667-20.053333 5.12-3.968 3.413333-5.973333 9.813333-5.973334 19.2v53.76H191.146667c-10.24 0-18.56 0.64-24.96 1.92a29.354667 29.354667 0 0 0-14.933334 7.04 25.685333 25.685333 0 0 0-7.04 14.293334c-1.152 6.101333-1.706667 13.994667-1.706666 23.68v129.706666c0 9.088 0.554667 16.725333 1.706666 22.826667a26.88 26.88 0 0 0 7.04 14.506667c3.541333 3.541333 8.533333 6.058667 14.933334 7.466666 6.4 1.408 14.72 2.133333 24.96 2.133334h102.826666v87.466666c0 9.088 1.578667 15.488 4.693334 19.2 3.114667 3.712 10.24 5.546667 21.333333 5.546667z m116.906667-162.986667H346.026667V262.826667h87.466666c6.528 0 10.752 0.768 12.586667 2.346666 1.834667 1.578667 2.773333 5.034667 2.773333 10.453334v94.293333c0 6.528-0.554667 10.666667-1.706666 12.373333-1.152 1.706667-4.565333 2.56-10.24 2.56z m-142.933334 0H205.226667c-4.821333 0-7.893333-0.768-9.173334-2.346666-1.28-1.578667-1.92-5.76-1.92-12.586667V275.626667c0-5.674667 0.554667-9.258667 1.706667-10.666667 1.152-1.408 3.84-2.133333 8.106667-2.133333h90.026666v122.026666zM609.92 857.6c10.794667 0 18.474667-1.706667 23.04-5.12 4.565333-3.413333 6.826667-9.685333 6.826667-18.773333s-2.261333-15.36-6.826667-18.773334c-4.565333-3.413333-12.245333-5.12-23.04-5.12h-103.253333v-81.92h98.986666c9.088 0 15.658667-1.792 19.626667-5.333333 3.968-3.541333 5.973333-9.6 5.973333-18.133333 0-8.533333-2.005333-14.72-5.973333-18.56-3.968-3.84-10.538667-5.76-19.626667-5.76h-98.986666v-72.106667h103.253333c8.234667 0 14.634667-1.792 19.2-5.333333 4.565333-3.541333 6.698667-9.728 6.4-18.56-0.298667-8.832-2.474667-15.018667-6.613333-18.56-4.138667-3.541333-10.325333-5.333333-18.56-5.333334h-131.84c-9.088 0-15.914667 1.706667-20.48 5.12-4.565333 3.413333-6.826667 9.514667-6.826667 18.346667v250.453333c0 9.088 2.432 15.274667 7.253333 18.56 4.821333 3.285333 11.52 4.906667 20.053334 4.906667h131.413333z m240.64 4.266667c7.978667 0 14.293333-1.706667 18.986667-5.12a15.36 15.36 0 0 0 7.04-12.8v-139.52c0-13.653333-1.92-25.6-5.76-35.84a67.242667 67.242667 0 0 0-16.213334-25.386667 68.181333 68.181333 0 0 0-25.173333-15.146667 100.266667 100.266667 0 0 0-33.066667-5.12 58.794667 58.794667 0 0 0-39.04 13.866667 69.333333 69.333333 0 0 0-12.8 13.866667c-3.541333 5.12-6.613333 10.24-9.173333 15.36v-20.906667c0-5.12-2.474667-9.386667-7.466667-12.8a32.042667 32.042667 0 0 0-18.56-5.12 34.133333 34.133333 0 0 0-18.986666 5.12c-5.248 3.413333-7.893333 7.68-7.893334 12.8v198.826667c0 4.565333 2.474667 8.661333 7.466667 12.373333 4.992 3.712 11.306667 5.546667 18.986667 5.546667s13.994667-1.792 18.986666-5.333334c4.992-3.541333 7.466667-7.765333 7.466667-12.586666v-120.746667c0-10.794667 1.194667-19.712 3.626667-26.666667a39.253333 39.253333 0 0 1 9.813333-16.213333 32.938667 32.938667 0 0 1 14.933333-7.893333c5.845333-1.408 12.16-2.133333 18.986667-2.133334 8.234667 0 15.061333 1.152 20.48 3.413334a27.306667 27.306667 0 0 1 12.586667 10.24c2.986667 4.565333 5.034667 10.325333 6.186666 17.28 1.152 6.954667 1.706667 15.018667 1.706667 24.106666v118.613334c0 5.12 2.474667 9.386667 7.466667 12.8 4.992 3.413333 11.434667 5.12 19.413333 5.12z" fill="#BAC3CD" p-id="9779"></path>
                            </svg>
                            <span id="langCurrent" class="lang-current">中文</span>
                            <i class="fas fa-chevron-down nav-dropdown-icon"></i>
                        </button>
                        <div class="lang-dropdown-menu hidden" id="langMenu">
                            <button type="button" class="lang-option" data-lang-option="zh">中文</button>
                            <button type="button" class="lang-option" data-lang-option="en">English</button>
                        </div>
                    </div>
                    <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="打开菜单">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
            <div class="hero-header-copy">
                <p class="subtitle">专业的域名 WHOIS 信息查询服务，快速、准确、完整</p>
                <nav class="top-nav" id="topNav">
                    <a href="<?= $basePath ?>index.php" class="<?php echo $currentPage === 'index.php' ? 'active' : ''; ?>" <?php echo $currentPage === 'index.php' ? 'aria-current="page"' : ''; ?>>首页</a>
                    <div class="nav-dropdown">
                        <a href="#" class="<?php echo in_array($currentPage, ['iana.php', 'cctlds.php']) ? 'active' : ''; ?>">域名 <i class="fas fa-chevron-down nav-dropdown-icon"></i></a>
                        <div class="nav-dropdown-menu">
                            <a href="<?= $basePath ?>pages/iana.php"><i class="fas fa-database nav-dropdown-item-icon"></i>IANA</a>
                            <a href="<?= $basePath ?>pages/cctlds.php"><i class="fas fa-flag nav-dropdown-item-icon"></i>ccTLDs</a>
                        </div>
                    </div>
                    <a href="<?= $basePath ?>pages/api-docs.php" class="<?php echo $currentPage === 'api-docs.php' ? 'active' : ''; ?>" <?php echo $currentPage === 'api-docs.php' ? 'aria-current="page"' : ''; ?>>API 文档</a>
                    <a href="<?= $basePath ?>pages/about.php" class="<?php echo $currentPage === 'about.php' ? 'active' : ''; ?>" <?php echo $currentPage === 'about.php' ? 'aria-current="page"' : ''; ?>>关于</a>
                    <a href="<?= $basePath ?>pages/contact.php" class="<?php echo $currentPage === 'contact.php' ? 'active' : ''; ?>" <?php echo $currentPage === 'contact.php' ? 'aria-current="page"' : ''; ?>>联系</a>
                </nav>
            </div>
        </div>
    </header>
    <main class="page-container">
